<?xml version="1.0"?>
<robot name="spm_1" xmlns:xacro="http://www.ros.org/wiki/xacro">


  <xacro:property name="pi" value="3.141592" />
    <xacro:property name="c120" value="-0.5" />
    <xacro:property name="s120" value="0.866025404" />
    <xacro:property name="c45" value="0.707106781" />
    <xacro:property name="s45" value="0.707106781" />
    <xacro:property name="c90" value="0" />
    <xacro:property name="s90" value="1" />
    <xacro:property name="s30" value="0.5" />


   
    <link name="base" />

    <link name="stepper_motor">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0 "/>
      <geometry>
         <mesh filename="package://robot/meshes/motor.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="motor">
        <color rgba="${192/255} ${192/255} ${192/255} 1.0"/>
      </material>
    </visual>
    <collision>
     <origin xyz="0 0.14479 0.05685" rpy=" ${-112.5*pi/180} 0 0"/>
     <geometry>
     <cylinder length="0.034" radius="0.016"/>
     </geometry>
     <material name="orange_collision">
       <color rgba="${255/255} ${153/255} ${51/255} 1.0"/>
     </material>
    </collision>
  <inertial>
    <mass value="0.1"/>
    <inertia ixx="0.00000442" ixy="0" ixz="0" iyy="0.00000442" iyz="0" izz="0.00000063"/>
  </inertial>
  </link>

 <joint name="base_to_stepper_motor" type="fixed">
    <parent link="base"/>
    <child link="stepper_motor"/>
    <axis xyz="0 0 1" />
    <origin xyz="0 0 0" rpy= "0 0 0"/>
  </joint>

 <link name="motor_axis">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
         <mesh filename="package://robot/meshes/eix_motor.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="motor">
        <color rgba="${192/255} ${192/255} ${192/255} 1.0"/>
      </material>
    </visual>
    <collision>
     <origin xyz="0 0 -0.00439 " rpy=" 0 0 0"/>
     <geometry>
     <cylinder length="0.01" radius="0.0015"/>
     </geometry>
     <material name="orange_collision">
     </material>
    </collision>
  <inertial>
    <mass value="0.010"/>
    <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
  </inertial>    
  </link>

 <joint name="motor_to_axis" type="fixed">
    <parent link="stepper_motor"/>
    <child link="motor_axis"/>
    <axis xyz="0 0 1" />
    <origin xyz="0 0.12926 0.06335" rpy= "${-112.5*pi/180} 0 0"/>
  </joint>

<link name="arm_1">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://robot/meshes/inferior_arm.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="arm_1">
        <color rgba="${255/255} ${153/255} ${51/255} 1.0"/>
     </material>
    </visual>
     <collision>
      <geometry>
        <mesh filename="package://robot/meshes/inferior_arm.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material 
        name="orange_collision">
     </material>
    </collision>
    <inertial>
      <mass value="0.02"/>
      <inertia ixx="0.00000384" ixy="0" ixz="0.00000566" iyy="0.00002011" iyz="0" izz="0.00001923"/>
    </inertial>
  </link>

 <joint name="rev_1" type="revolute">
    <parent link="motor_axis"/>
    <child link="arm_1"/>
    <axis xyz="0 0 1"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <limit effort="100000" lower="${-45*pi/180}" upper="${45*pi/180}" velocity="${2*pi}"/>
    <dynamics friction="0.01" damping="0.001"/> 
  </joint>


   <link name="arm_2">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://robot/meshes/as.stl" scale="0.001 0.001 0.001"/>
      </geometry>
          <material name="arm_2">
        <color rgba="${150/255} ${150/255} ${50/255} 1.0"/>
     </material>
    </visual>
         <collision>
      <geometry>
        <mesh filename="package://robot/meshes/as.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
    <material 
        name="orange_collision">
     </material>
    <inertial>
      <mass value="0.008"/>
      <inertia ixx="0.00001720" ixy="0" ixz="0" iyy="0.00000114" iyz="0.00000039" izz="0.00001736"/>
    </inertial>
  </link>

   <joint name="rev_2" type="revolute">
    <parent link="arm_1"/>
    <child link="arm_2"/>
    <axis xyz="0 0 1"/>
    <origin xyz="0 -0.05327 -0.01067" rpy= "${22.5*pi/180} 0 0"/>
    <limit effort="100000" lower="${-45*pi/180}" upper="${45*pi/180}" velocity="${2*pi}"/>
    <dynamics friction="0.01" damping="0.001"/>
  </joint>

     <link name="axis_arm_2">
        <visual>
          <geometry>
            <cylinder length="0.01" radius="0.002"/>
          </geometry>
          <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="arm_2"/>
        </visual>
      <collision>
        <origin xyz="0 0 -0.00439" rpy=" 0 0 0"/>
        <geometry>
        <cylinder length="0.01" radius="0.0015"/>
        </geometry>
        <material 
          name="orange_collision">
        </material>
      </collision>
  <inertial>
    <mass value="0.010"/>
    <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
  </inertial>
      </link>


 <joint name="arm_2_to axis_arm_2" type="fixed">
    <parent link="arm_2"/>
    <child link="axis_arm_2"/>
    <axis xyz="0 0 1" />
    <origin xyz="0 -0.05327 -0.01067" rpy= "${202.5*pi/180} 0 0"/>
 </joint>


    <link name="plat_superior">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://robot/meshes/plat_superior.stl" scale="0.001 0.001 0.001"/>
      </geometry>
          <material name="arm_2">
        <color rgba="${150/255} ${150/255} ${50/255} 1.0"/>
     </material>
    </visual>
    <collision>
      <origin xyz="0 0 0.037" rpy="0 0 0" />
      <geometry>
        <cylinder length="0.050" radius="0.125"/>
      </geometry>
    </collision>
    <material 
        name="orange_collision">
     </material>
    <inertial>
        <mass value="0.0679"/>
      <inertia ixx="0.00035045" ixy="0" ixz="0" iyy="0.00035046" iyz="0" izz="0.00041102"/>
    </inertial>
  </link>

  <joint name="plat_superior_joint" type="fixed">
     <parent link="axis_arm_2"/>
     <child link="plat_superior"/>
     <axis xyz="0 1 0 "/>
     <origin xyz="0 0 0.13855" rpy= "${247.5*pi/180} 0 0"/>
  </joint>
   
</robot>