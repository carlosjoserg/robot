<?xml version="1.0"?>
<launch>

  <arg name="model" default="$(find robot)/urdf/week_6.urdf"/>
  <arg name="gui" default="true" />
  <arg name="rvizconfig" default="$(find robot)/rviz/urdf.rviz" />

  <param name="robot_description" command="$(find xacro)/xacro.py $(arg model)" />
  <param name="use_gui" value="$(arg gui)"/>

<!-- Merge joint states and publish as /joint_states -->
  <node name="joint_state_publisher" pkg="joint_state_publisher" type="joint_state_publisher">
    <param name="use_gui" value="false"/>
    <rosparam param="source_list">[robot/joint_states]</rosparam>
</node>

  <node name="robot_state_publisher" pkg="robot_state_publisher" type="state_publisher" />
  <node name="rviz" pkg="rviz" type="rviz" args="-d $(arg rvizconfig)" required="true" />

  <include file="$(find gazebo_ros)/launch/empty_world.launch">
			<arg name="world_name" value="$(find robot)/world/robot.world"/>
			<arg name="debug" value="false" />
			<arg name="gui" value="true" />
			<arg name="paused" value="true"/>
			<arg name="use_sim_time" value="true"/>
			<arg name="headless" value="false"/>
</include>

<node name="urdf_spawner" pkg="gazebo_ros" type="spawn_model" respawn="false" output="screen" args="-urdf -model robot -param robot_description -z 0.1"/>

<!-- Load all available ros controllers -->
  <rosparam file="$(find robot)/config/controllers.yaml" command="load"/>
<node ns="robot" name="controller_spawner" pkg="controller_manager" type="spawner" respawn="false" output="screen" args="state_controller MY_WHEEL_ONE_CONTROLLER MY_WHEEL_TWO_CONTROLLER MY_WHEEL_THREE_CONTROLLER MY_WHEEL_ONE_RODETA_1_CONTROLLER MY_WHEEL_ONE_RODETA_2_CONTROLLER MY_WHEEL_ONE_RODETA_3_CONTROLLER MY_WHEEL_ONE_RODETA_4_CONTROLLER MY_WHEEL_ONE_RODETA_5_CONTROLLER MY_WHEEL_ONE_RODETA_6_CONTROLLER MY_WHEEL_ONE_RODETA_7_CONTROLLER MY_WHEEL_ONE_RODETA_8_CONTROLLER MY_WHEEL_ONE_RODETA_9_CONTROLLER MY_WHEEL_ONE_RODETA_10_CONTROLLER MY_WHEEL_ONE_RODETA_11_CONTROLLER MY_WHEEL_ONE_RODETA_12_CONTROLLER MY_WHEEL_ONE_RODETA_13_CONTROLLER MY_WHEEL_ONE_RODETA_14_CONTROLLER MY_WHEEL_ONE_RODETA_15_CONTROLLER MY_WHEEL_ONE_RODETA_16_CONTROLLER MY_WHEEL_TWO_RODETA_1_CONTROLLER MY_WHEEL_TWO_RODETA_2_CONTROLLER MY_WHEEL_TWO_RODETA_3_CONTROLLER MY_WHEEL_TWO_RODETA_4_CONTROLLER MY_WHEEL_TWO_RODETA_5_CONTROLLER MY_WHEEL_TWO_RODETA_6_CONTROLLER MY_WHEEL_TWO_RODETA_7_CONTROLLER MY_WHEEL_TWO_RODETA_8_CONTROLLER MY_WHEEL_TWO_RODETA_9_CONTROLLER MY_WHEEL_TWO_RODETA_10_CONTROLLER MY_WHEEL_TWO_RODETA_11_CONTROLLER MY_WHEEL_TWO_RODETA_12_CONTROLLER MY_WHEEL_TWO_RODETA_13_CONTROLLER MY_WHEEL_TWO_RODETA_14_CONTROLLER MY_WHEEL_TWO_RODETA_15_CONTROLLER MY_WHEEL_TWO_RODETA_16_CONTROLLER MY_WHEEL_THREE_RODETA_1_CONTROLLER MY_WHEEL_THREE_RODETA_2_CONTROLLER MY_WHEEL_THREE_RODETA_3_CONTROLLER MY_WHEEL_THREE_RODETA_4_CONTROLLER MY_WHEEL_THREE_RODETA_5_CONTROLLER MY_WHEEL_THREE_RODETA_6_CONTROLLER MY_WHEEL_THREE_RODETA_7_CONTROLLER MY_WHEEL_THREE_RODETA_8_CONTROLLER MY_WHEEL_THREE_RODETA_9_CONTROLLER MY_WHEEL_THREE_RODETA_10_CONTROLLER MY_WHEEL_THREE_RODETA_11_CONTROLLER MY_WHEEL_THREE_RODETA_12_CONTROLLER MY_WHEEL_THREE_RODETA_13_CONTROLLER MY_WHEEL_THREE_RODETA_14_CONTROLLER MY_WHEEL_THREE_RODETA_15_CONTROLLER MY_WHEEL_THREE_RODETA_16_CONTROLLER HELIX_ORIENTATION_CONTROLLER TOP_PROPELLER_CONTROLLER BOTTOM_PROPELLER_CONTROLLER"/>

</launch>
